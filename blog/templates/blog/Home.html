<!-- Show a User's Home Page -->

<!-- Relies on base.html foundations and substitutes the block content -->

{% extends 'core/base.html' %} <!--import the base.html code-->

{% block title %}Tallie Marks{% endblock %} <!--Change the title of the page-->


{% block Xtra_Button1 %} <!--PLACEHOLDER SUBSTITUTION FOR 'Xtra_Button' BLOCK-->
    {% if OWNERSHIP %}
        <a href="{% url 'core:TTT' %}" class="px-6 py-3 text-lg font-semibold bg-gray-500 text-white rounded-xl hover:bg-gray-700">Play Tic-Tac-Toe</a> <!-- Create a clickable button that once clicked, it calls upon the urlpattern named 'new' from the 'blog' directory -->
        
    <!--  owner of page -->
    {% else %}
        <a href="{% url 'blog:home' %}" class="px-6 py-3 text-lg font-semibold bg-gray-500 text-white rounded-xl hover:bg-gray-700">Home</a><!-- Use the current defined URL. Then, using the blog.urls.py and within the urlpatterns list, make a call to the URL pattern named 'home'. A view from blog.views.py will then be forced to run-->
    {% endif %}

{% endblock %}

{% block Xtra_Button2 %} <!--PLACEHOLDER SUBSTITUTION FOR 'Xtra_Button' BLOCK-->

    <a href="{% url 'blog:new' %}" class="px-6 py-3 text-lg font-semibold bg-gray-500 text-white rounded-xl hover:bg-gray-700">Create Tallie</a> <!-- Create a clickable button that once clicked, it calls upon the urlpattern named 'new' from the 'blog' directory -->

{% endblock %}


{% block content %} <!--PLACEHOLDER SUBSTITUTION FOR 'content' BLOCK--> 
<!-- <h1 class="mb-6 text-3xl">Tallie Blogs:</h1> -->
<div id="Home_Profile_Image_Div" class="center">



    <!-- user logic here -->
    <div class = 'mb-3'>
        
        <!--  owner of page -->
        {% if OWNERSHIP %}
     
            <div class="py-3">
                <a ID='Update_Profile_BTN' href="{% url 'core:Update' %}" class="px-6 py-3 text-lg font-semibold rounded-xl" >Update Profile</a>
                
                <!-- implement delete user method -->
                
                <a ID='Home_Delete_Profile_BTN' href="{% url 'core:Unregister' %}" class="px-6 py-3 text-lg font-semibold text-white rounded-xl">Delete User/Profile</a>
                <!-- When a user clicks on the link generated by {% url 'core:Unregister' %}, they will be directed to the delete confirmation page associated with UserDeleteView. -->
                
            </div>
    
        <!-- current user is visiting . not owner of page -->
        {% else %}
            <h1 class="m-2 text-2xl font-semibold text-teal-500" style="text-decoration: underline;">TALLIE USER: {{home_owner.username}} </h1> 
        {% endif %}

    </div>
    
    

    {% if OWNERSHIP %} <!--  owner of page -->
        <img id="Home_Pro_Image"src="{{ user.profile.profile_image.url }}" alt="image file name: {{ user.profile.profile_image}}">
        
    {% else %}   <!-- current user is visiting . not owner of page -->
        <img id="Home_Pro_Image"src="{{ home_owner.profile.profile_image.url }}" alt="image file name: {{ home_owner.profile.profile_image}}">
        
    {% endif %}
    

    <h1 class="m-2 text-xl font-semibold text-teal-500" style="text-decoration: underline;">TALLIE SCORE: 
        {% if OWNERSHIP %} <!--  owner of page -->
            {{request.user.profile.score}} 
            
        {% else %}   <!-- current user is visiting . not owner of page -->
            {{ home_owner.profile.score }} 
            
        {% endif %}
        
    </h1> 
    



    {% if OWNERSHIP %} <!--  owner of page -->
        <h1 class="mb-6 text-xl font-semibold text-teal-500" style="text-decoration: underline;">Your Tallie Marks:</h1> 
        
    {% else %}   <!-- current user is visiting . not owner of page -->
        <h1 class="mb-6 text-xl font-semibold text-teal-500" style="text-decoration: underline;">Their Tallie Marks:</h1> 
        
    {% endif %}
    
</div>


<div  class="space-y-6 ">
    
    {% for blog in blogs %} <!--Display all of the user's blogs-->
        <a href="{% url 'blog:detail' blog.id %}"> <!-- this clickable anchor tag will lead to the URL generated by the 'blog:detail' pattern, and it will include the specific blog.id in the URL. A view from blog.views.py will then be forced to run-->
            <div class="BLOG-POST">
                
                <div class="flex  items-center">
                    [{{blog.category}}]
                    <h2 class="text-2xl font-semibold" style="margin-left: 10px;">{{blog.name}}</h2> <!-- SUBSTITUTE IN THE BLOG NAME  -->
                </div>


                <p class="Description_Block Explore_Blog-Content" style="margin-left: 20px">{{ blog.content}}</p>   <!-- SHOW content of blog -->

            </div>
        </a>
    {% endfor %}
</div>
{% endblock %}